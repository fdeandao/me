
estoy indeciso sobre que usar para un proyectito web que tengo en mente, el hosting es dreamhost, y debido a que tiene la limitacion de 100MB de RAM por proceso python en fastcgi (cosa que no tiene ruby on rails :S), decidi probar las alternativas.<br/><br/>probe un hola mundo en PHP, web.py y un script de python pelado.<br/><br/>tanto web.py y el script son servidos por un apache con mod_rewrite, todos hacen lo mismo, que es imprimir "hola mundo!", los resultados son los siguientes:<br/><br/><span style="font-size:130%;">para php</span><br/><br/>ab  -c 4 -n 300 http://www.marianoguerra.com.ar/php/<br/>This is ApacheBench, Version 2.3 <br/>Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/<br/>Licensed to The Apache Software Foundation, http://www.apache.org/<br/><br/>Benchmarking www.marianoguerra.com.ar (be patient)<br/>Completed 100 requests<br/>Completed 200 requests<br/>Completed 300 requests<br/>Finished 300 requests<br/><br/><br/>Server Software:        Apache/2.2.9<br/>Server Hostname:        www.marianoguerra.com.ar<br/>Server Port:            80<br/><br/>Document Path:          /php/<br/>Document Length:        12 bytes<br/><br/>Concurrency Level:      4<br/><span style="font-weight: bold;">Time taken for tests:   28.272 seconds</span><br/>Complete requests:      300<br/>Failed requests:        0<br/>Write errors:           0<br/>Total transferred:      72980 bytes<br/>HTML transferred:       3600 bytes<br/>Requests per second:    10.61 [#/sec] (mean)<br/>Time per request:       376.961 [ms] (mean)<br/>Time per request:       94.240 [ms] (mean, across all concurrent requests)<br/>Transfer rate:          2.52 [Kbytes/sec] received<br/><br/>Connection Times (ms)<br/>              min  mean[+/-sd] median   max<br/>Connect:       24   33  10.1     30      93<br/>Processing:   272  342  91.5    315     929<br/>Waiting:      267  334  90.4    308     913<br/>Total:        298  375  93.3    347     976<br/><br/>Percentage of the requests served within a certain time (ms)<br/>  50%    347<br/>  66%    365<br/>  75%    387<br/>  80%    398<br/>  90%    446<br/>  95%    562<br/>  98%    738<br/>  99%    844<br/> 100%    976 (longest request)<br/><br/><span style="font-size:130%;">para web.py</span><br/><br/> ab  -c 4 -n 300 http://www.marianoguerra.com.ar/py/<br/>This is ApacheBench, Version 2.3 <br/>Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/<br/>Licensed to The Apache Software Foundation, http://www.apache.org/<br/><br/>Benchmarking www.marianoguerra.com.ar (be patient)<br/>Completed 100 requests<br/>Completed 200 requests<br/>Completed 300 requests<br/>Finished 300 requests<br/><br/><br/>Server Software:        Apache/2.2.9<br/>Server Hostname:        www.marianoguerra.com.ar<br/>Server Port:            80<br/><br/>Document Path:          /py/<br/>Document Length:        13 bytes<br/><br/>Concurrency Level:      4<br/><span style="font-weight: bold;">Time taken for tests:   84.578 seconds</span><br/>Complete requests:      300<br/>Failed requests:        0<br/>Write errors:           0<br/>Total transferred:      65100 bytes<br/>HTML transferred:       3900 bytes<br/>Requests per second:    3.55 [#/sec] (mean)<br/>Time per request:       1127.711 [ms] (mean)<br/>Time per request:       281.928 [ms] (mean, across all concurrent requests)<br/>Transfer rate:          0.75 [Kbytes/sec] received<br/><br/>Connection Times (ms)<br/>              min  mean[+/-sd] median   max<br/>Connect:       24   32   7.1     30      89<br/>Processing:   423 1095 485.1    981    2824<br/>Waiting:      422 1094 485.1    980    2821<br/>Total:        454 1127 484.6   1012    2851<br/><br/>Percentage of the requests served within a certain time (ms)<br/>  50%   1012<br/>  66%   1222<br/>  75%   1375<br/>  80%   1483<br/>  90%   1829<br/>  95%   2212<br/>  98%   2481<br/>  99%   2660<br/> 100%   2851 (longest request)<br/><br/><br/><span style="font-size:130%;">para python cgi</span><br/><br/>ab  -c 4 -n 300 http://www.marianoguerra.com.ar/picgi/<br/>This is ApacheBench, Version 2.3 <br/>Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/<br/>Licensed to The Apache Software Foundation, http://www.apache.org/<br/><br/>Benchmarking www.marianoguerra.com.ar (be patient)<br/>Completed 100 requests<br/>Completed 200 requests<br/>Completed 300 requests<br/>Finished 300 requests<br/><br/><br/>Server Software:        Apache/2.2.9<br/>Server Hostname:        www.marianoguerra.com.ar<br/>Server Port:            80<br/><br/>Document Path:          /picgi/<br/>Document Length:        323 bytes<br/><br/>Concurrency Level:      4<br/><span style="font-weight: bold;">Time taken for tests:   19.617 seconds</span><br/>Complete requests:      300<br/>Failed requests:        0<br/>Write errors:           0<br/>Non-2xx responses:      300<br/>Total transferred:      173100 bytes<br/>HTML transferred:       96900 bytes<br/>Requests per second:    15.29 [#/sec] (mean)<br/>Time per request:       261.559 [ms] (mean)<br/>Time per request:       65.390 [ms] (mean, across all concurrent requests)<br/>Transfer rate:          8.62 [Kbytes/sec] received<br/><br/>Connection Times (ms)<br/>              min  mean[+/-sd] median   max<br/>Connect:       24   32   7.4     30      81<br/>Processing:   212  229  25.5    226     440<br/>Waiting:      212  228  25.5    225     440<br/>Total:        240  261  26.4    256     468<br/><br/>Percentage of the requests served within a certain time (ms)<br/>  50%    256<br/>  66%    260<br/>  75%    263<br/>  80%    265<br/>  90%    274<br/>  95%    283<br/>  98%    325<br/>  99%    463<br/> 100%    468 (longest request)<br/><br/><span style="font-size:130%;">conclusion</span><br/><br/>una porqueria que dreamhost ponga ese limite a fastcgi, es explicable que web.py demore, ya que tiene que levantar el interprete e importar todo el framework cada vez que lo llamo solo para mostrar un hola mundo. Lo que me sorprende es que python/cgi pelado sea mas rapido que php, siendo que python tiene que levantar el interprete cada vez.<br/> Aclaro que este microbenchmark comprueba realmente cuanto tarda en servir una peticion y no compara la velocidad de los lenguajes en si, pero eso es lo que me interesa, ya que python le pasa el trapo a php en performance :P <a href="http://shootout.alioth.debian.org/u32q/benchmark.php?test=all&amp;lang=python&amp;lang2=php">http://shootout.alioth.debian.org/u32q/benchmark.php?test=all&amp;lang=python&amp;lang2=php</a><br/><br/>en resumen, no se si hacerlo en python en este host, ya que sacrificar el beneficio de un framework por una limitacion del hosting es un perno :S
<div style="clear: both;"/>
